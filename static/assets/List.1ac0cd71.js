import{i as P,j as Q,k as R,l as G}from"./index.4607008d.js";import{h as H,a as K,r as v,Q as X,o as Y,_ as Z,q as i,B as w,z as e,x as a,O as x,y as _,D as o,u as b,$ as A,P as s,M as d,N as S,F as c,t as D,S as E,J as ee,L as ae,f as V}from"./element-plus.0596f1e1.js";const te=y=>(ee("data-v-0b52fe0a"),y=y(),ae(),y),le={class:"card-header flex justify-between items-center"},ue=te(()=>o("div",null,"\xA0",-1)),oe=s(" \u5237\u65B0"),ne=s(" \u6DFB\u52A0"),se=s(",\xA0\xA0 "),de=s(",\xA0 "),re=s("\u7EE7\u7EED\u76D1\u542C"),ie=s("\u505C\u6B62\u76D1\u542C"),_e=s("\u7ED3\u675F\u76D1\u542C"),ce={class:"dialog-footer"},pe=s("\u53D6\u6D88"),he=s("\u6DFB\u52A0");var me=H({props:{type:null},setup(y,{expose:N}){const j=y,W=K({code:[{required:!0,message:"\u8BF7\u8F93\u5165\u80A1\u7968\u4EE3\u7801",trigger:"blur"},{min:6,max:6,message:"\u80A1\u7968\u4EE3\u7801\u4E3A6\u4F4D",trigger:"blur"}]}),F=v([]),g=v(""),m=v(!1),h=async()=>{const n=await P({watch_status:j.type});F.value=n.data},$=async()=>{const n=await Q({code:g.value});n.data.data?(V({title:"\u63D0\u793A",message:"\u6DFB\u52A0\u6210\u529F"}),m.value=!1,g.value="",h()):V({title:"\u63D0\u793A",message:n.data.message})},C=async(n,p)=>{await R({id:n,status:p}),await h()},z=async n=>{await G({id:n.id,is_buy_monitor:Number(!n.is_buy_monitor)}),await h()},I=()=>{m.value=!0},r=n=>n===0?"cell-gray":n>0?"cell-red":"cell-green",U=()=>{m.value=!1};let M=null;return X(()=>{h()}),Y(()=>{clearInterval(M)}),Z(()=>{h()}),N({loadStocks:h}),(n,p)=>{const k=i("el-link"),u=i("el-table-column"),B=i("el-popover"),f=i("el-button"),q=i("el-card"),L=i("el-input"),T=i("el-form-item"),J=i("el-form"),O=i("el-dialog");return _(),w(x,null,[e(q,{shadow:"hover",class:"mb-2"},{header:a(()=>[o("div",le,[ue,o("div",null,[e(k,{type:"primary",underline:!1,href:"javascript:;",onClick:h},{default:a(()=>[oe]),_:1}),e(k,{type:"primary",underline:!1,href:"javascript:;",onClick:I},{default:a(()=>[ne]),_:1})])])]),default:a(()=>[e(b(A),{data:F.value,border:"",style:{width:"100%"}},{default:a(()=>[e(u,{type:"index",label:"\u5E8F\u53F7",width:"50"}),e(u,{prop:"name",label:"\u540D\u79F0",width:"100"},{default:a(t=>[e(k,{type:"primary",underline:!1,href:`https://stockpage.10jqka.com.cn/${t.row.code}`,target:"_blank"},{default:a(()=>[s(d(t.row.name),1)]),_:2},1032,["href"])]),_:1}),e(u,{prop:"code",label:"\u4EE3\u7801",sortable:"",width:"80"}),e(u,{prop:"watch_status",label:"\u72B6\u6001",width:"100",sortable:""}),e(u,{prop:"strategy",label:"\u7B56\u7565",width:"80"}),e(u,{label:"\u533A\u95F4\u6DA8\u5E45",width:"220"},{default:a(t=>[e(B,{placement:"right-end",width:500,trigger:"hover"},{reference:a(()=>[o("div",null,[(_(!0),w(x,null,S(t.row.daily_data,l=>(_(),w("span",{key:l.trade_date},[o("span",{class:c(r(l.daily_change))},d(l.daily_change)+"%",3),se]))),128))])]),default:a(()=>[e(b(A),{data:t.row.daily_data,style:{width:"100%"}},{default:a(()=>[e(u,{prop:"trade_date",label:"\u65E5\u671F",width:"150"}),e(u,{prop:"daily_change",label:"\u6DA8\u5E45",width:"100"},{default:a(({row:l})=>[o("span",{class:c(r(l.daily_change))},d(l.daily_change)+"%",3)]),_:1}),e(u,{prop:"max_daily_change",label:"\u6700\u5927\u6DA8\u5E45",width:"100"},{default:a(({row:l})=>[o("span",{class:c(r(l.max_daily_change))},d(l.max_daily_change)+"%",3)]),_:1}),e(u,{prop:"min_daily_change",label:"\u6700\u4F4E\u6DA8\u5E45",width:"100"},{default:a(({row:l})=>[o("span",{class:c(r(l.min_daily_change))},d(l.min_daily_change)+"%",3)]),_:1})]),_:2},1032,["data"])]),_:2},1024)]),_:1}),e(u,{label:"\u6700\u5927\u6DA8\u5E45",width:"220"},{default:a(t=>[e(B,{placement:"right-end",width:500,trigger:"hover"},{reference:a(()=>[o("div",null,[(_(!0),w(x,null,S(t.row.daily_data,l=>(_(),w("span",{key:l.trade_date},[o("span",{class:c(r(l.max_daily_change))},d(l.max_daily_change)+"%",3),de]))),128))])]),default:a(()=>[e(b(A),{data:t.row.daily_data,style:{width:"100%"}},{default:a(()=>[e(u,{prop:"trade_date",label:"\u65E5\u671F",width:"150"}),e(u,{prop:"max_daily_change",label:"\u6700\u5927\u6536\u76CA",width:"100"},{default:a(({row:l})=>[o("span",{class:c(r(l.max_daily_change))},d(l.max_daily_change)+"%",3)]),_:1}),e(u,{prop:"min_daily_change",label:"\u6700\u4F4E\u6DA8\u5E45",width:"100"},{default:a(({row:l})=>[o("span",{class:c(r(l.min_daily_change))},d(l.min_daily_change)+"%",3)]),_:1})]),_:2},1032,["data"])]),_:2},1024)]),_:1}),e(u,{prop:"total_return",label:"\u7D2F\u8BA1\u6DA8\u5E45",width:"110",sortable:""},{default:a(t=>[o("span",{class:c(r(t.row.total_return))},d(t.row.total_return)+"%",3)]),_:1}),e(u,{prop:"max_total_return",label:"\u6700\u5927\u6DA8\u5E45",width:"110",sortable:""},{default:a(t=>[o("span",{class:c(r(t.row.max_total_return))},d(t.row.max_total_return)+"%",3)]),_:1}),e(u,{prop:"create_time",label:"\u76D1\u542C\u65E5\u671F",width:"160",sortable:""}),e(u,{prop:"end_time",label:"\u7ED3\u675F\u65E5\u671F",width:"160",sortable:""}),e(u,{fixed:"right",label:"\u64CD\u4F5C",width:"240"},{default:a(t=>[t.row.watch_status==="\u76D1\u542C\u4E2D"?(_(),D(f,{key:0,type:"text",size:"small",onClick:l=>z(t.row)},{default:a(()=>[s(d(t.row.is_buy_monitor?"\u505C\u6B62\u4E70\u70B9\u76D1\u542C":"\u4E70\u70B9\u76D1\u542C"),1)]),_:2},1032,["onClick"])):E("",!0),t.row.watch_status!=="\u76D1\u542C\u4E2D"?(_(),D(f,{key:1,type:"text",size:"small",onClick:l=>C(t.row.id,"\u76D1\u542C\u4E2D")},{default:a(()=>[re]),_:2},1032,["onClick"])):E("",!0),t.row.watch_status==="\u76D1\u542C\u4E2D"?(_(),D(f,{key:2,type:"text",size:"small",onClick:l=>C(t.row.id,"\u505C\u6B62\u76D1\u542C")},{default:a(()=>[ie]),_:2},1032,["onClick"])):E("",!0),t.row.watch_status==="\u76D1\u542C\u4E2D"||t.row.watch_status==="\u505C\u6B62\u76D1\u542C"?(_(),D(f,{key:3,type:"text",size:"small",onClick:l=>C(t.row.id,"\u7ED3\u675F\u76D1\u542C")},{default:a(()=>[_e]),_:2},1032,["onClick"])):E("",!0)]),_:1})]),_:1},8,["data"])]),_:1}),e(O,{modelValue:m.value,"onUpdate:modelValue":p[2]||(p[2]=t=>m.value=t),title:"\u65B0\u589E\u76D1\u542C\u80A1\u7968",width:"30%","before-close":U},{footer:a(()=>[o("span",ce,[e(f,{onClick:p[1]||(p[1]=t=>m.value=!1)},{default:a(()=>[pe]),_:1}),e(f,{type:"primary",onClick:$},{default:a(()=>[he]),_:1})])]),default:a(()=>[e(J,{ref:(t,l)=>{l.ruleForm=t},"label-position":"right","label-width":"80px",rules:b(W)},{default:a(()=>[e(T,{class:"mb-6 -ml-20",prop:"code"},{default:a(()=>[e(L,{modelValue:g.value,"onUpdate:modelValue":p[0]||(p[0]=t=>g.value=t),maxlength:"6",minlength:"6",placeholder:"\u8BF7\u8F93\u5165\u80A1\u7968\u4EE3\u7801","prefix-icon":"el-icon-user"},null,8,["modelValue"])]),_:1})]),_:1},8,["rules"])]),_:1},8,["modelValue"])],64)}}});me.__scopeId="data-v-0b52fe0a";export{me as default};
